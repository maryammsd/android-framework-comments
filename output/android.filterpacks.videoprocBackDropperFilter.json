{
  "filePath" : "/home/maryam/clearblue/files/android-source-30/android/filterpacks/videoproc/BackDropperFilter.java",
  "packageName" : "android.filterpacks.videoproc",
  "className" : "BackDropperFilter",
  "comment" : "\n * @hide\n ",
  "variables" : [ {
    "name" : "BACKGROUND_STRETCH",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "BACKGROUND_FIT",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "BACKGROUND_FILL_CROP",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mBackgroundFitMode",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mLearningDuration",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mLearningVerifyDuration",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mAcceptStddev",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mHierarchyLrgScale",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mHierarchyMidScale",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mHierarchySmlScale",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mMaskWidthExp",
    "type" : "int",
    "comment" : " image contents, NOT dimensions of input video stream.",
    "links" : [ ]
  }, {
    "name" : "mMaskHeightExp",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mHierarchyLrgExp",
    "type" : "int",
    "comment" : " SUBTRACTED from maskWidthExp and maskHeightExp.",
    "links" : [ ]
  }, {
    "name" : "mHierarchyMidExp",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mHierarchySmlExp",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mLumScale",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mChromaScale",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mMaskBg",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mMaskFg",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mExposureChange",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mWhiteBalanceRedChange",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mWhiteBalanceBlueChange",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mAutoWBToggle",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mAdaptRateLearning",
    "type" : "float",
    "comment" : " TODO: These are not updatable:",
    "links" : [ ]
  }, {
    "name" : "mAdaptRateBg",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mAdaptRateFg",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mVerifyRate",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mLearningDoneListener",
    "type" : "LearningDoneListener",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mUseTheForce",
    "type" : "boolean",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mProvideDebugOutputs",
    "type" : "boolean",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mMirrorBg",
    "type" : "boolean",
    "comment" : " would mirror the preview for the front camera",
    "links" : [ ]
  }, {
    "name" : "mOrientation",
    "type" : "int",
    "comment" : " coordinates, if we were to mirror the background",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_LEARNING_DURATION",
    "type" : "int",
    "comment" : " Frame count for learning bg model",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_LEARNING_VERIFY_DURATION",
    "type" : "int",
    "comment" : " Frame count for learning verification",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_ACCEPT_STDDEV",
    "type" : "float",
    "comment" : " Maximum distance (in standard deviations) for considering a pixel as background",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_HIER_LRG_SCALE",
    "type" : "float",
    "comment" : " Variance threshold scale factor for large scale of hierarchy",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_HIER_MID_SCALE",
    "type" : "float",
    "comment" : " Variance threshold scale factor for medium scale of hierarchy",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_HIER_SML_SCALE",
    "type" : "float",
    "comment" : " Variance threshold scale factor for small scale of hierarchy",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_MASK_WIDTH_EXPONENT",
    "type" : "int",
    "comment" : " Width of foreground / background mask.",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_MASK_HEIGHT_EXPONENT",
    "type" : "int",
    "comment" : " Height of foreground / background mask.",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_HIER_LRG_EXPONENT",
    "type" : "int",
    "comment" : " Area over which to average for large scale (length in pixels = 2^HIERARCHY_*_EXPONENT)",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_HIER_MID_EXPONENT",
    "type" : "int",
    "comment" : " Area over which to average for medium scale",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_HIER_SML_EXPONENT",
    "type" : "int",
    "comment" : " Area over which to average for small scale",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_Y_SCALE_FACTOR",
    "type" : "float",
    "comment" : " Scale factor for luminance channel in distance calculations (larger = more significant)",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_UV_SCALE_FACTOR",
    "type" : "float",
    "comment" : " Scale factor for chroma channels in distance calculations",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_MASK_BLEND_BG",
    "type" : "float",
    "comment" : " Mask value to start blending away from background",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_MASK_BLEND_FG",
    "type" : "float",
    "comment" : " Mask value to start blending away from foreground",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_EXPOSURE_CHANGE",
    "type" : "float",
    "comment" : " Exposure stop number to change the brightness of foreground",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_WHITE_BALANCE_RED_CHANGE",
    "type" : "float",
    "comment" : " White balance change in Red channel for foreground",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_WHITE_BALANCE_BLUE_CHANGE",
    "type" : "float",
    "comment" : " White balance change in Blue channel for foreground",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_WHITE_BALANCE_TOGGLE",
    "type" : "int",
    "comment" : " 0.f -> Auto WB is off; 1.f-> Auto WB is on",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_LEARNING_ADAPT_RATE",
    "type" : "float",
    "comment" : " Default rate at which to learn bg model during learning period",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_ADAPT_RATE_BG",
    "type" : "float",
    "comment" : " Default rate at which to learn bg model from new background pixels",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_ADAPT_RATE_FG",
    "type" : "float",
    "comment" : " Default rate at which to learn bg model from new foreground pixels",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_MASK_VERIFY_RATE",
    "type" : "float",
    "comment" : " Default rate at which to verify whether background is stable",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_LEARNING_DONE_THRESHOLD",
    "type" : "int",
    "comment" : " Default rate at which to verify whether background is stable",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_BG_FIT_TRANSFORM",
    "type" : "float[]",
    "comment" : " Default 3x3 matrix, column major, for fitting background 1:1",
    "links" : [ ]
  }, {
    "name" : "MASK_SMOOTH_EXPONENT",
    "type" : "String",
    "comment" : " Area over which to blur binary mask values (length in pixels = 2^MASK_SMOOTH_EXPONENT)",
    "links" : [ ]
  }, {
    "name" : "DISTANCE_STORAGE_SCALE",
    "type" : "String",
    "comment" : " Scale value for mapping variance distance to fit nicely to 0-1, 8-bit",
    "links" : [ ]
  }, {
    "name" : "VARIANCE_STORAGE_SCALE",
    "type" : "String",
    "comment" : " Scale value for mapping variance to fit nicely to 0-1, 8-bit",
    "links" : [ ]
  }, {
    "name" : "DEFAULT_AUTO_WB_SCALE",
    "type" : "String",
    "comment" : " Default scale of auto white balance parameters",
    "links" : [ ]
  }, {
    "name" : "MIN_VARIANCE",
    "type" : "String",
    "comment" : " Minimum variance (0-255 scale)",
    "links" : [ ]
  }, {
    "name" : "RGB_TO_YUV_MATRIX",
    "type" : "String",
    "comment" : " Column-major array for 4x4 matrix converting RGB to YCbCr, JPEG definition (no pedestal)",
    "links" : [ ]
  }, {
    "name" : "mInputNames",
    "type" : "String[]",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mOutputNames",
    "type" : "String[]",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mDebugOutputNames",
    "type" : "String[]",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mOutputFormat",
    "type" : "FrameFormat",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mMemoryFormat",
    "type" : "MutableFrameFormat",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mMaskFormat",
    "type" : "MutableFrameFormat",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mAverageFormat",
    "type" : "MutableFrameFormat",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mLogVerbose",
    "type" : "boolean",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "TAG",
    "type" : "String",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mSharedUtilShader",
    "type" : "String",
    "comment" : " Shared uniforms and utility functions",
    "links" : [ ]
  }, {
    "name" : "mBgDistanceShader",
    "type" : "String",
    "comment" : "   subsample_level: Level on foreground frame's mip-map.",
    "links" : [ ]
  }, {
    "name" : "mBgMaskShader",
    "type" : "String",
    "comment" : "   mask is placed in the alpha channel. The RGB channels contain debug information.",
    "links" : [ ]
  }, {
    "name" : "mAutomaticWhiteBalance",
    "type" : "String",
    "comment" : "   pyramid_depth: Depth of input frames' mip-maps.",
    "links" : [ ]
  }, {
    "name" : "mBgSubtractShader",
    "type" : "String",
    "comment" : "   tex_sampler_3: Auto white-balance factors.",
    "links" : [ ]
  }, {
    "name" : "mBgSubtractForceShader",
    "type" : "String",
    "comment" : " blue-white outline",
    "links" : [ ]
  }, {
    "name" : "mUpdateBgModelMeanShader",
    "type" : "String",
    "comment" : "   subsample_level: Level on foreground frame's mip-map.",
    "links" : [ ]
  }, {
    "name" : "mUpdateBgModelVarianceShader",
    "type" : "String",
    "comment" : " mUpdateBgModelMeanShader.",
    "links" : [ ]
  }, {
    "name" : "mMaskVerifyShader",
    "type" : "String",
    "comment" : "   most recent frame, weighted by the learning rate.",
    "links" : [ ]
  }, {
    "name" : "mBgDistProgram",
    "type" : "ShaderProgram",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mBgMaskProgram",
    "type" : "ShaderProgram",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mBgSubtractProgram",
    "type" : "ShaderProgram",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mBgUpdateMeanProgram",
    "type" : "ShaderProgram",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mBgUpdateVarianceProgram",
    "type" : "ShaderProgram",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mCopyOutProgram",
    "type" : "ShaderProgram",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mAutomaticWhiteBalanceProgram",
    "type" : "ShaderProgram",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mMaskVerifyProgram",
    "type" : "ShaderProgram",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "copyShaderProgram",
    "type" : "ShaderProgram",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mPingPong",
    "type" : "boolean",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mBgMean",
    "type" : "GLFrame[]",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mBgVariance",
    "type" : "GLFrame[]",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mMaskVerify",
    "type" : "GLFrame[]",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mDistance",
    "type" : "GLFrame",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mAutoWB",
    "type" : "GLFrame",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mMask",
    "type" : "GLFrame",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mVideoInput",
    "type" : "GLFrame",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mBgInput",
    "type" : "GLFrame",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mMaskAverage",
    "type" : "GLFrame",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "isOpen",
    "type" : "boolean",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mFrameCount",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mStartLearning",
    "type" : "boolean",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mBackgroundFitModeChanged",
    "type" : "boolean",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mRelativeAspect",
    "type" : "float",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mPyramidDepth",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "mSubsampleLevel",
    "type" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "startTime",
    "type" : "long",
    "comment" : "",
    "links" : [ ]
  } ],
  "methods" : [ {
    "name" : "public void setupPorts()",
    "returnType" : "void",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "public FrameFormat getOutputFormat(String portName, FrameFormat inputFormat)",
    "returnType" : "FrameFormat",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "private boolean createMemoryFormat(FrameFormat inputFormat)",
    "returnType" : "boolean",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "public void prepare(FilterContext context)",
    "returnType" : "void",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "private void allocateFrames(FrameFormat inputFormat, FilterContext context)",
    "returnType" : "void",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "public void process(FilterContext context)",
    "returnType" : "void",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "public void close(FilterContext context)",
    "returnType" : "void",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "public synchronized void relearn()",
    "returnType" : "void",
    "comment" : " Relearn background model",
    "links" : [ ]
  }, {
    "name" : "public void fieldPortValueUpdated(String name, FilterContext context)",
    "returnType" : "void",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "private void updateBgScaling(Frame video, Frame background, boolean fitModeChanged)",
    "returnType" : "void",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "private int pyramidLevel(int size)",
    "returnType" : "int",
    "comment" : "",
    "links" : [ ]
  } ],
  "variableNames" : [ "BACKGROUND_STRETCH", "BACKGROUND_FIT", "BACKGROUND_FILL_CROP", "mBackgroundFitMode", "mLearningDuration", "mLearningVerifyDuration", "mAcceptStddev", "mHierarchyLrgScale", "mHierarchyMidScale", "mHierarchySmlScale", "mMaskWidthExp", "mMaskHeightExp", "mHierarchyLrgExp", "mHierarchyMidExp", "mHierarchySmlExp", "mLumScale", "mChromaScale", "mMaskBg", "mMaskFg", "mExposureChange", "mWhiteBalanceRedChange", "mWhiteBalanceBlueChange", "mAutoWBToggle", "mAdaptRateLearning", "mAdaptRateBg", "mAdaptRateFg", "mVerifyRate", "mLearningDoneListener", "mUseTheForce", "mProvideDebugOutputs", "mMirrorBg", "mOrientation", "DEFAULT_LEARNING_DURATION", "DEFAULT_LEARNING_VERIFY_DURATION", "DEFAULT_ACCEPT_STDDEV", "DEFAULT_HIER_LRG_SCALE", "DEFAULT_HIER_MID_SCALE", "DEFAULT_HIER_SML_SCALE", "DEFAULT_MASK_WIDTH_EXPONENT", "DEFAULT_MASK_HEIGHT_EXPONENT", "DEFAULT_HIER_LRG_EXPONENT", "DEFAULT_HIER_MID_EXPONENT", "DEFAULT_HIER_SML_EXPONENT", "DEFAULT_Y_SCALE_FACTOR", "DEFAULT_UV_SCALE_FACTOR", "DEFAULT_MASK_BLEND_BG", "DEFAULT_MASK_BLEND_FG", "DEFAULT_EXPOSURE_CHANGE", "DEFAULT_WHITE_BALANCE_RED_CHANGE", "DEFAULT_WHITE_BALANCE_BLUE_CHANGE", "DEFAULT_WHITE_BALANCE_TOGGLE", "DEFAULT_LEARNING_ADAPT_RATE", "DEFAULT_ADAPT_RATE_BG", "DEFAULT_ADAPT_RATE_FG", "DEFAULT_MASK_VERIFY_RATE", "DEFAULT_LEARNING_DONE_THRESHOLD", "DEFAULT_BG_FIT_TRANSFORM", "MASK_SMOOTH_EXPONENT", "DISTANCE_STORAGE_SCALE", "VARIANCE_STORAGE_SCALE", "DEFAULT_AUTO_WB_SCALE", "MIN_VARIANCE", "RGB_TO_YUV_MATRIX", "mInputNames", "mOutputNames", "mDebugOutputNames", "mOutputFormat", "mMemoryFormat", "mMaskFormat", "mAverageFormat", "mLogVerbose", "TAG", "mSharedUtilShader", "mBgDistanceShader", "mBgMaskShader", "mAutomaticWhiteBalance", "mBgSubtractShader", "mBgSubtractForceShader", "mUpdateBgModelMeanShader", "mUpdateBgModelVarianceShader", "mMaskVerifyShader", "mBgDistProgram", "mBgMaskProgram", "mBgSubtractProgram", "mBgUpdateMeanProgram", "mBgUpdateVarianceProgram", "mCopyOutProgram", "mAutomaticWhiteBalanceProgram", "mMaskVerifyProgram", "copyShaderProgram", "mPingPong", "mBgMean", "mBgVariance", "mMaskVerify", "mDistance", "mAutoWB", "mMask", "mVideoInput", "mBgInput", "mMaskAverage", "isOpen", "mFrameCount", "mStartLearning", "mBackgroundFitModeChanged", "mRelativeAspect", "mPyramidDepth", "mSubsampleLevel", "startTime" ],
  "methodNames" : [ "public void setupPorts()", "public FrameFormat getOutputFormat(String portName, FrameFormat inputFormat)", "private boolean createMemoryFormat(FrameFormat inputFormat)", "public void prepare(FilterContext context)", "private void allocateFrames(FrameFormat inputFormat, FilterContext context)", "public void process(FilterContext context)", "public void close(FilterContext context)", "public synchronized void relearn()", "public void fieldPortValueUpdated(String name, FilterContext context)", "private void updateBgScaling(Frame video, Frame background, boolean fitModeChanged)", "private int pyramidLevel(int size)" ]
}