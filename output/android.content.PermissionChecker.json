{
  "filePath" : "/home/maryam/clearblue/files/android-source-30/android/content/PermissionChecker.java",
  "packageName" : "android.content",
  "className" : "PermissionChecker",
  "comment" : "\n * This class provides permission check APIs that verify both the\n * permission and the associated app op for this permission if\n * such is defined.\n * <p>\n * In the new permission model permissions with protection level\n * dangerous are runtime permissions. For apps targeting {@link android.os.Build.VERSION_CODES#M}\n * and above the user may not grant such permissions or revoke\n * them at any time. For apps targeting API lower than {@link android.os.Build.VERSION_CODES#M}\n * these permissions are always granted as such apps do not expect\n * permission revocations and would crash. Therefore, when the\n * user disables a permission for a legacy app in the UI the\n * platform disables the APIs guarded by this permission making\n * them a no-op which is doing nothing or returning an empty\n * result or default error.\n * </p>\n * <p>\n * It is important that when you perform an operation on behalf of\n * another app you use these APIs to check for permissions as the\n * app may be a legacy app that does not participate in the new\n * permission model for which the user had disabled the \"permission\"\n * which is achieved by disallowing the corresponding app op.\n * </p>\n * <p>\n * This class has two types of methods and you should be careful which\n * type to call based on whether permission protected data is being\n * passed to the app or you are just checking whether the app holds a\n * permission. The reason is that a permission check requires checking\n * the runtime permission and if it is granted checking the corresponding\n * app op as for apps not supporting the runtime mode we never revoke\n * permissions but disable app ops. Since there are two types of app op\n * checks, one that does not leave a record an action was performed and\n * another the does, one needs to call the preflight flavor of the checks\n * named xxxForPreflight only if no private data is being delivered but\n * a permission check is what is needed and the xxxForDataDelivery where\n * the permission check is right before private data delivery.\n *\n * @hide\n ",
  "variables" : [ {
    "name" : "PERMISSION_GRANTED",
    "type" : "int",
    "comment" : " The permission is granted. ",
    "links" : [ ]
  }, {
    "name" : "PERMISSION_HARD_DENIED",
    "type" : "int",
    "comment" : " Returned when:\n     * <ul>\n     * <li>For non app op permissions, returned when the permission is denied.</li>\n     * <li>For app op permissions, returned when the app op is denied or app op is\n     * {@link AppOpsManager#MODE_DEFAULT} and permission is denied.</li>\n     * </ul>\n     *\n     ",
    "links" : [ "android.app.AppOpsManager#MODE_DEFAULT" ]
  }, {
    "name" : "PERMISSION_SOFT_DENIED",
    "type" : "int",
    "comment" : " Only for runtime permissions, its returned when the runtime permission\n     * is granted, but the corresponding app op is denied. ",
    "links" : [ ]
  }, {
    "name" : "PID_UNKNOWN",
    "type" : "int",
    "comment" : " Constant when the PID for which we check permissions is unknown. ",
    "links" : [ ]
  } ],
  "methods" : [ {
    "name" : "public static int checkPermissionForDataDelivery(@NonNull Context context, @NonNull String permission, int pid, int uid, @Nullable String packageName, @Nullable String attributionTag, @Nullable String message)",
    "returnType" : "int",
    "comment" : "\n     * Checks whether a given package in a UID and PID has a given permission\n     * and whether the app op that corresponds to this permission is allowed.\n     *\n     * <strong>NOTE:</strong> Use this method only for permission checks at the\n     * point where you will deliver the permission protected data to clients.\n     *\n     * <p>For example, if an app registers a location listener it should have the location\n     * permission but no data is actually sent to the app at the moment of registration\n     * and you should use {@link #checkPermissionForPreflight(Context, String, int, int, String)}\n     * to determine if the app has or may have location permission (if app has only foreground\n     * location the grant state depends on the app's fg/gb state) and this check will not\n     * leave a trace that permission protected data was delivered. When you are about to\n     * deliver the location data to a registered listener you should use this method which\n     * will evaluate the permission access based on the current fg/bg state of the app and\n     * leave a record that the data was accessed.\n     *\n     * @param context Context for accessing resources.\n     * @param permission The permission to check.\n     * @param pid The process id for which to check. Use {@link #PID_UNKNOWN} if the PID\n     *    is not known.\n     * @param uid The uid for which to check.\n     * @param packageName The package name for which to check. If null the\n     *     the first package for the calling UID will be used.\n     * @param attributionTag attribution tag\n     * @return The permission check result which is either {@link #PERMISSION_GRANTED}\n     *     or {@link #PERMISSION_SOFT_DENIED} or {@link #PERMISSION_HARD_DENIED}.\n     * @param message A message describing the reason the permission was checked\n     *\n     * @see #checkPermissionForPreflight(Context, String, int, int, String)\n     ",
    "links" : [ "#PERMISSION_HARD_DENIED", "#PERMISSION_GRANTED", "#PID_UNKNOWN", "#PERMISSION_SOFT_DENIED", "#checkPermissionForPreflight(Context" ]
  }, {
    "name" : "public static int checkPermissionForPreflight(@NonNull Context context, @NonNull String permission, int pid, int uid, @Nullable String packageName)",
    "returnType" : "int",
    "comment" : "\n     * Checks whether a given package in a UID and PID has a given permission\n     * and whether the app op that corresponds to this permission is allowed.\n     *\n     * <strong>NOTE:</strong> Use this method only for permission checks at the\n     * preflight point where you will not deliver the permission protected data\n     * to clients but schedule permission data delivery, apps register listeners,\n     * etc.\n     *\n     * <p>For example, if an app registers a location listener it should have the location\n     * permission but no data is actually sent to the app at the moment of registration\n     * and you should use this method to determine if the app has or may have location\n     * permission (if app has only foreground location the grant state depends on the app's\n     * fg/gb state) and this check will not leave a trace that permission protected data\n     * was delivered. When you are about to deliver the location data to a registered\n     * listener you should use {@link #checkPermissionForDataDelivery(Context, String,\n     * int, int, String, String)} which will evaluate the permission access based on the current\n     * fg/bg state of the app and leave a record that the data was accessed.\n     *\n     * @param context Context for accessing resources.\n     * @param permission The permission to check.\n     * @param pid The process id for which to check.\n     * @param uid The uid for which to check.\n     * @param packageName The package name for which to check. If null the\n     *     the first package for the calling UID will be used.\n     * @return The permission check result which is either {@link #PERMISSION_GRANTED}\n     *     or {@link #PERMISSION_SOFT_DENIED} or {@link #PERMISSION_HARD_DENIED}.\n     *\n     * @see #checkPermissionForDataDelivery(Context, String, int, int, String, String)\n     ",
    "links" : [ "#PERMISSION_HARD_DENIED", "#PERMISSION_GRANTED", "#PERMISSION_SOFT_DENIED", "#checkPermissionForDataDelivery(Context" ]
  }, {
    "name" : "public static int checkSelfPermissionForDataDelivery(@NonNull Context context, @NonNull String permission, @Nullable String message)",
    "returnType" : "int",
    "comment" : "\n     * Checks whether your app has a given permission and whether the app op\n     * that corresponds to this permission is allowed.\n     *\n     * <strong>NOTE:</strong> Use this method only for permission checks at the\n     * point where you will deliver the permission protected data to clients.\n     *\n     * <p>For example, if an app registers a location listener it should have the location\n     * permission but no data is actually sent to the app at the moment of registration\n     * and you should use {@link #checkSelfPermissionForPreflight(Context, String)}\n     * to determine if the app has or may have location permission (if app has only foreground\n     * location the grant state depends on the app's fg/gb state) and this check will not\n     * leave a trace that permission protected data was delivered. When you are about to\n     * deliver the location data to a registered listener you should use this method\n     * which will evaluate the permission access based on the current fg/bg state of the\n     * app and leave a record that the data was accessed.\n     *\n     * <p>This API assumes the the {@link Binder#getCallingUid()} is the same as\n     * {@link Process#myUid()}.\n     *\n     * @param context Context for accessing resources.\n     * @param permission The permission to check.\n     * @return The permission check result which is either {@link #PERMISSION_GRANTED}\n     *     or {@link #PERMISSION_SOFT_DENIED} or {@link #PERMISSION_HARD_DENIED}.\n     * @param message A message describing the reason the permission was checked\n     *\n     * @see #checkSelfPermissionForPreflight(Context, String)\n     ",
    "links" : [ "android.os.Process#myUid()", "#PERMISSION_HARD_DENIED", "#PERMISSION_GRANTED", "#checkSelfPermissionForPreflight(Context", "#PERMISSION_SOFT_DENIED", "android.os.Binder#getCallingUid()" ]
  }, {
    "name" : "public static int checkSelfPermissionForPreflight(@NonNull Context context, @NonNull String permission)",
    "returnType" : "int",
    "comment" : "\n     * Checks whether your app has a given permission and whether the app op\n     * that corresponds to this permission is allowed.\n     *\n     * <strong>NOTE:</strong> Use this method only for permission checks at the\n     * preflight point where you will not deliver the permission protected data\n     * to clients but schedule permission data delivery, apps register listeners,\n     * etc.\n     *\n     * <p>For example, if an app registers a location listener it should have the location\n     * permission but no data is actually sent to the app at the moment of registration\n     * and you should use this method to determine if the app has or may have location\n     * permission (if app has only foreground location the grant state depends on the\n     * app's fg/gb state) and this check will not leave a trace that permission protected\n     * data was delivered. When you are about to deliver the location data to a registered\n     * listener you should use this method which will evaluate the permission access based\n     * on the current fg/bg state of the app and leave a record that the data was accessed.\n     *\n     * <p>This API assumes the the {@link Binder#getCallingUid()} is the same as\n     * {@link Process#myUid()}.\n     *\n     * @param context Context for accessing resources.\n     * @param permission The permission to check.\n     * @return The permission check result which is either {@link #PERMISSION_GRANTED}\n     *     or {@link #PERMISSION_SOFT_DENIED} or {@link #PERMISSION_HARD_DENIED}.\n     *\n     * @see #checkSelfPermissionForDataDelivery(Context, String, String)\n     ",
    "links" : [ "android.os.Process#myUid()", "#PERMISSION_HARD_DENIED", "#PERMISSION_GRANTED", "#PERMISSION_SOFT_DENIED", "android.os.Binder#getCallingUid()" ]
  }, {
    "name" : "public static int checkCallingPermissionForDataDelivery(@NonNull Context context, @NonNull String permission, @Nullable String packageName, @Nullable String attributionTag, @Nullable String message)",
    "returnType" : "int",
    "comment" : "\n     * Checks whether the IPC you are handling has a given permission and whether\n     * the app op that corresponds to this permission is allowed.\n     *\n     * <strong>NOTE:</strong> Use this method only for permission checks at the\n     * point where you will deliver the permission protected data to clients.\n     *\n     * <p>For example, if an app registers a location listener it should have the location\n     * permission but no data is actually sent to the app at the moment of registration\n     * and you should use {@link #checkCallingPermissionForPreflight(Context, String, String)}\n     * to determine if the app has or may have location permission (if app has only foreground\n     * location the grant state depends on the app's fg/gb state) and this check will not\n     * leave a trace that permission protected data was delivered. When you are about to\n     * deliver the location data to a registered listener you should use this method which\n     * will evaluate the permission access based on the current fg/bg state of the app and\n     * leave a record that the data was accessed.\n     *\n     * @param context Context for accessing resources.\n     * @param permission The permission to check.\n     * @param packageName The package name making the IPC. If null the\n     *     the first package for the calling UID will be used.\n     * @param attributionTag attribution tag\n     * @return The permission check result which is either {@link #PERMISSION_GRANTED}\n     *     or {@link #PERMISSION_SOFT_DENIED} or {@link #PERMISSION_HARD_DENIED}.\n     * @param message A message describing the reason the permission was checked\n     *\n     * @see #checkCallingPermissionForPreflight(Context, String, String)\n     ",
    "links" : [ "#PERMISSION_HARD_DENIED", "#PERMISSION_GRANTED", "#PERMISSION_SOFT_DENIED", "#checkCallingPermissionForPreflight(Context" ]
  }, {
    "name" : "public static int checkCallingPermissionForPreflight(@NonNull Context context, @NonNull String permission, @Nullable String packageName)",
    "returnType" : "int",
    "comment" : "\n     * Checks whether the IPC you are handling has a given permission and whether\n     * the app op that corresponds to this permission is allowed.\n     *\n     * <strong>NOTE:</strong> Use this method only for permission checks at the\n     * preflight point where you will not deliver the permission protected data\n     * to clients but schedule permission data delivery, apps register listeners,\n     * etc.\n     *\n     * <p>For example, if an app registers a location listener it should have the location\n     * permission but no data is actually sent to the app at the moment of registration\n     * and you should use this method to determine if the app has or may have location\n     * permission (if app has only foreground location the grant state depends on the app's\n     * fg/gb state) and this check will not leave a trace that permission protected data\n     * was delivered. When you are about to deliver the location data to a registered\n     * listener you should use {@link #checkCallingOrSelfPermissionForDataDelivery(Context,\n     * String, String)} which will evaluate the permission access based on the current fg/bg state\n     * of the app and leave a record that the data was accessed.\n     *\n     * @param context Context for accessing resources.\n     * @param permission The permission to check.\n     * @param packageName The package name making the IPC. If null the\n     *     the first package for the calling UID will be used.\n     * @return The permission check result which is either {@link #PERMISSION_GRANTED}\n     *     or {@link #PERMISSION_SOFT_DENIED} or {@link #PERMISSION_HARD_DENIED}.\n     *\n     * @see #checkCallingPermissionForDataDelivery(Context, String, String, String)\n     ",
    "links" : [ "#PERMISSION_HARD_DENIED", "#PERMISSION_GRANTED", "#checkCallingOrSelfPermissionForDataDelivery(Context", "#PERMISSION_SOFT_DENIED" ]
  }, {
    "name" : "public static int checkCallingOrSelfPermissionForDataDelivery(@NonNull Context context, @NonNull String permission, @Nullable String attributionTag, @Nullable String message)",
    "returnType" : "int",
    "comment" : "\n     * Checks whether the IPC you are handling or your app has a given permission\n     * and whether the app op that corresponds to this permission is allowed.\n     *\n     * <strong>NOTE:</strong> Use this method only for permission checks at the\n     * point where you will deliver the permission protected data to clients.\n     *\n     * <p>For example, if an app registers a location listener it should have the location\n     * permission but no data is actually sent to the app at the moment of registration\n     * and you should use {@link #checkCallingOrSelfPermissionForPreflight(Context, String)}\n     * to determine if the app has or may have location permission (if app has only foreground\n     * location the grant state depends on the app's fg/gb state) and this check will not\n     * leave a trace that permission protected data was delivered. When you are about to\n     * deliver the location data to a registered listener you should use this method which\n     * will evaluate the permission access based on the current fg/bg state of the app and\n     * leave a record that the data was accessed.\n     *\n     * @param context Context for accessing resources.\n     * @param permission The permission to check.\n     * @return The permission check result which is either {@link #PERMISSION_GRANTED}\n     *     or {@link #PERMISSION_SOFT_DENIED} or {@link #PERMISSION_HARD_DENIED}.\n     * @param attributionTag attribution tag of caller (if not self)\n     * @param message A message describing the reason the permission was checked\n     *\n     * @see #checkCallingOrSelfPermissionForPreflight(Context, String)\n     ",
    "links" : [ "#PERMISSION_HARD_DENIED", "#PERMISSION_GRANTED", "#PERMISSION_SOFT_DENIED", "#checkCallingOrSelfPermissionForPreflight(Context" ]
  }, {
    "name" : "public static int checkCallingOrSelfPermissionForPreflight(@NonNull Context context, @NonNull String permission)",
    "returnType" : "int",
    "comment" : "\n     * Checks whether the IPC you are handling or your app has a given permission\n     * and whether the app op that corresponds to this permission is allowed.\n     *\n     * <strong>NOTE:</strong> Use this method only for permission checks at the\n     * preflight point where you will not deliver the permission protected data\n     * to clients but schedule permission data delivery, apps register listeners,\n     * etc.\n     *\n     * <p>For example, if an app registers a location listener it should have the location\n     * permission but no data is actually sent to the app at the moment of registration\n     * and you should use this method to determine if the app has or may have location\n     * permission (if app has only foreground location the grant state depends on the\n     * app's fg/gb state) and this check will not leave a trace that permission protected\n     * data was delivered. When you are about to deliver the location data to a registered\n     * listener you should use {@link #checkCallingOrSelfPermissionForDataDelivery(Context,\n     * String, String, String)} which will evaluate the permission access based on the current\n     * fg/bg state of the app and leave a record that the data was accessed.\n     *\n     * @param context Context for accessing resources.\n     * @param permission The permission to check.\n     * @return The permission check result which is either {@link #PERMISSION_GRANTED}\n     *     or {@link #PERMISSION_SOFT_DENIED} or {@link #PERMISSION_HARD_DENIED}.\n     *\n     * @see #checkCallingOrSelfPermissionForDataDelivery(Context, String, String, String)\n     ",
    "links" : [ "#PERMISSION_HARD_DENIED", "#PERMISSION_GRANTED", "#checkCallingOrSelfPermissionForDataDelivery(Context", "#PERMISSION_SOFT_DENIED" ]
  }, {
    "name" : " static int checkPermissionCommon(@NonNull Context context, @NonNull String permission, int pid, int uid, @Nullable String packageName, @Nullable String attributionTag, @Nullable String message, boolean forDataDelivery)",
    "returnType" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "private static int checkAppOpPermission(@NonNull Context context, @NonNull String permission, int pid, int uid, @Nullable String packageName, @Nullable String attributionTag, @Nullable String message, boolean forDataDelivery)",
    "returnType" : "int",
    "comment" : "",
    "links" : [ ]
  }, {
    "name" : "private static int checkRuntimePermission(@NonNull Context context, @NonNull String permission, int pid, int uid, @Nullable String packageName, @Nullable String attributionTag, @Nullable String message, boolean forDataDelivery)",
    "returnType" : "int",
    "comment" : "",
    "links" : [ ]
  } ],
  "variableNames" : [ "PERMISSION_GRANTED", "PERMISSION_HARD_DENIED", "PERMISSION_SOFT_DENIED", "PID_UNKNOWN" ],
  "methodNames" : [ "public static int checkPermissionForDataDelivery(@NonNull Context context, @NonNull String permission, int pid, int uid, @Nullable String packageName, @Nullable String attributionTag, @Nullable String message)", "public static int checkPermissionForPreflight(@NonNull Context context, @NonNull String permission, int pid, int uid, @Nullable String packageName)", "public static int checkSelfPermissionForDataDelivery(@NonNull Context context, @NonNull String permission, @Nullable String message)", "public static int checkSelfPermissionForPreflight(@NonNull Context context, @NonNull String permission)", "public static int checkCallingPermissionForDataDelivery(@NonNull Context context, @NonNull String permission, @Nullable String packageName, @Nullable String attributionTag, @Nullable String message)", "public static int checkCallingPermissionForPreflight(@NonNull Context context, @NonNull String permission, @Nullable String packageName)", "public static int checkCallingOrSelfPermissionForDataDelivery(@NonNull Context context, @NonNull String permission, @Nullable String attributionTag, @Nullable String message)", "public static int checkCallingOrSelfPermissionForPreflight(@NonNull Context context, @NonNull String permission)", " static int checkPermissionCommon(@NonNull Context context, @NonNull String permission, int pid, int uid, @Nullable String packageName, @Nullable String attributionTag, @Nullable String message, boolean forDataDelivery)", "private static int checkAppOpPermission(@NonNull Context context, @NonNull String permission, int pid, int uid, @Nullable String packageName, @Nullable String attributionTag, @Nullable String message, boolean forDataDelivery)", "private static int checkRuntimePermission(@NonNull Context context, @NonNull String permission, int pid, int uid, @Nullable String packageName, @Nullable String attributionTag, @Nullable String message, boolean forDataDelivery)" ]
}